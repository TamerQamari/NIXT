# صفحة Controllers - لوحة التحكم الرئيسية

## نظرة عامة
صفحة Controllers هي لوحة تحكم شاملة مصممة خصيصاً لأصحاب الموقع والمشرفين للتحكم الكامل في جميع جوانب الموقع والعملاء والمشاريع.

## الوصول للصفحة
```
http://localhost:3000/controllers
```

## الميزات الرئيسية

### 1. **لوحة النظرة العامة (Overview)**
- إحصائيات شاملة للموقع
  - إجمالي العملاء والعملاء النشطون
  - إجمالي المشاريع والمشاريع النشطة
  - الإيرادات الكلية والمعلقة
  - صافي الربح
- إجراءات سريعة للوصول للمهام الشائعة
- سجل الأنشطة الأخيرة

### 2. **إدارة العملاء (Clients)**
- عرض جميع العملاء في جدول تفاعلي
- البحث عن العملاء بالاسم أو البريد أو الهاتف
- معلومات تفصيلية لكل عميل:
  - الاسم والبريد الإلكتروني والهاتف
  - الحالة (نشط، غير نشط، معلق)
  - عدد المشاريع
  - إجمالي الإنفاق
  - آخر نشاط
- أزرار إجراءات: عرض، تعديل، حذف

### 3. **إدارة المشاريع (Projects)**
- عرض المشاريع في بطاقات تفاعلية
- معلومات كل مشروع:
  - اسم المشروع والعميل
  - نسبة التقدم مع شريط مرئي
  - الميزانية والموعد النهائي
  - الأولوية (عاجل، عالي، متوسط، منخفض)
  - عدد أعضاء الفريق
- إضافة وتعديل المشاريع

### 4. **الإدارة المالية (Finances)**
- بطاقات ملخص مالي:
  - إجمالي الإيرادات
  - المصروفات
  - صافي الربح
  - المبالغ المعلقة
- جدول المعاملات المالية الكامل:
  - نوع المعاملة (دخل/مصروف)
  - الوصف والمبلغ
  - التاريخ والحالة
  - العميل المرتبط
- تصدير التقارير المالية

### 5. **إدارة المستخدمين (Users)**
- عرض جميع المستخدمين
- معلومات كل مستخدم:
  - الاسم والبريد الإلكتروني
  - الدور (مشرف، مدير، عميل، مطور)
  - الحالة
  - آخر دخول
- إضافة وإدارة المستخدمين

### 6. **سجل الأنشطة (Activity Log)**
- عرض timeline تفاعلي لجميع الأنشطة
- معلومات كل نشاط:
  - المستخدم الذي قام بالإجراء
  - نوع الإجراء
  - التفاصيل
  - الوقت (بصيغة نسبية: منذ X دقائق/ساعات)
- تصفية الأنشطة

## المميزات التقنية

### 1. **دعم اللغتين (Arabic/English)**
- تبديل سلس بين العربية والإنجليزية
- دعم كامل للـ RTL
- جميع النصوص مترجمة

### 2. **تصميم متجاوب**
- يعمل بشكل ممتاز على:
  - أجهزة الكمبيوتر المكتبية
  - الأجهزة اللوحية
  - الهواتف المحمولة

### 3. **واجهة مستخدم حديثة**
- تصميم داكن احترافي (Dark Mode)
- تأثيرات حركية سلسة
- ألوان متدرجة جذابة
- أيقونات إيموجي للتعبير المرئي

### 4. **أداء محسّن**
- استخدام `useMemo` لتحسين الأداء
- حسابات ديناميكية للإحصائيات
- تحميل سريع للبيانات

### 5. **تجربة مستخدم ممتازة**
- بحث فوري في العملاء
- تبويبات سلسة للتنقل
- جداول تفاعلية مع hover effects
- بطاقات قابلة للنقر

## البيانات التجريبية (Mock Data)

حالياً تعمل الصفحة ببيانات تجريبية (Demo Mode). في التطبيق الحقيقي يجب:

1. **ربط API للبيانات**
   - إنشاء API endpoints للعملاء، المشاريع، المعاملات، المستخدمين
   - استخدام `useApi` hook للتكامل

2. **قاعدة البيانات**
   - جداول: clients, projects, transactions, users, activities
   - علاقات بين الجداول

3. **المصادقة والصلاحيات**
   - التحقق من صلاحيات المشرفين
   - حماية الصفحة من الوصول غير المصرح

## التطوير المستقبلي

### ميزات مقترحة للإضافة:
1. **تحليلات متقدمة**
   - رسوم بيانية للإيرادات
   - تحليل أداء المشاريع
   - إحصائيات الزوار

2. **إدارة التذاكر**
   - عرض وإدارة تذاكر الدعم
   - تعيين التذاكر للموظفين
   - نظام أولويات

3. **إشعارات فورية**
   - تنبيهات للأحداث المهمة
   - رسائل البريد التلقائية

4. **تصدير البيانات**
   - تصدير Excel/CSV
   - PDF للتقارير

5. **إدارة الأذونات**
   - نظام صلاحيات متقدم
   - أدوار مخصصة

6. **لوحة معلومات مخصصة**
   - السماح للمستخدمين بتخصيص العرض
   - حفظ التفضيلات

## الاستخدام مع Dashboard الحالي

يمكن دمج بيانات Dashboard الحالي مع Controllers:
```typescript
// في Controllers يمكن عرض نفس البيانات من:
- AnalyticsDashboard (الإحصائيات)
- FinancialDashboard (المالية)
- ProjectOverview (المشاريع)
- SupportCenter (التذاكر)
```

## الملفات المرتبطة

- **الصفحة**: `app/controllers/page.tsx`
- **الأنماط**: `app/controllers/Controllers.module.css`
- **الترجمات**: `hooks/translations.ts`
- **الأنواع**: TypeScript interfaces في ملف الصفحة

## أمثلة الاستخدام

### إضافة عميل جديد (مستقبلاً):
```typescript
const addClient = async (clientData) => {
  const response = await fetch('/api/clients', {
    method: 'POST',
    body: JSON.stringify(clientData)
  })
  return response.json()
}
```

### تحديث حالة مشروع:
```typescript
const updateProjectStatus = async (projectId, status) => {
  const response = await fetch(`/api/projects/${projectId}`, {
    method: 'PATCH',
    body: JSON.stringify({ status })
  })
  return response.json()
}
```

## الأمان

⚠️ **مهم**: يجب تأمين هذه الصفحة:
1. إضافة middleware للتحقق من المصادقة
2. التحقق من دور المستخدم (Admin فقط)
3. حماية API endpoints
4. تشفير البيانات الحساسة

---

**تم التطوير بواسطة**: NIXT Development Team  
**التاريخ**: فبراير 2026  
**الحالة**: جاهز للتطوير والتكامل مع Backend
